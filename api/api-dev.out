
> api@0.1.0 dev /Users/dmitrii.malakhov/git/evm/api
> tsx watch src/index.ts

Migration error (may be safe to ignore if migrations are already applied): DrizzleError: Failed to run the query 'CREATE TABLE IF NOT EXISTS `iterations` (
  `id` text PRIMARY KEY NOT NULL,
  `name` text NOT NULL,
  `starts_at` integer NOT NULL,
  `ends_at` integer NOT NULL,
  `total_weeks` integer NOT NULL DEFAULT 6,
  `current_week` integer NOT NULL DEFAULT 1
);

ALTER TABLE `levels` ADD COLUMN `iteration_id` text REFERENCES `iterations`(`id`) ON DELETE SET NULL;

DROP INDEX IF EXISTS `levels_week_idx`;
CREATE UNIQUE INDEX IF NOT EXISTS `levels_iteration_week_idx` ON `levels` (`iteration_id`, `week`);

ALTER TABLE `team_progress` ADD COLUMN `total_points` integer NOT NULL DEFAULT 0;
ALTER TABLE `team_progress` ADD COLUMN `completed_weeks` text NOT NULL DEFAULT '[]';
ALTER TABLE `team_progress` ADD COLUMN `weekly_stats` text NOT NULL DEFAULT '[]';

CREATE TABLE IF NOT EXISTS `user_week_progress` (
  `id` text PRIMARY KEY NOT NULL,
  `user_id` text NOT NULL,
  `iteration_id` text NOT NULL,
  `week` integer NOT NULL,
  `completed_tasks` text NOT NULL DEFAULT '[]',
  `points_earned` integer NOT NULL DEFAULT 0,
  `is_completed` integer NOT NULL DEFAULT 0,
  `finished_at` integer,
  `key_id` text,
  `title` text,
  FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`iteration_id`) REFERENCES `iterations`(`id`) ON DELETE CASCADE
);

CREATE UNIQUE INDEX IF NOT EXISTS `user_week_iteration_idx` ON `user_week_progress` (`user_id`, `iteration_id`, `week`);
'
    at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:271:10)
    at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
    ... 4 lines matching cause stack trace ...
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5) {
  cause: RangeError: The supplied SQL string contains more than one statement
      at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
      at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
      at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
      at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:269:16)
      at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
      at migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/migrator.ts:10:13)
      at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/db/client.ts:43:9)
      at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
      at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
      at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
}
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:26:36 PM [tsx] change in ./src/db/client.ts Rerunning...
cMigration error (may be safe to ignore if migrations are already applied): DrizzleError: Failed to run the query 'CREATE TABLE IF NOT EXISTS `iterations` (
  `id` text PRIMARY KEY NOT NULL,
  `name` text NOT NULL,
  `starts_at` integer NOT NULL,
  `ends_at` integer NOT NULL,
  `total_weeks` integer NOT NULL DEFAULT 6,
  `current_week` integer NOT NULL DEFAULT 1
);

ALTER TABLE `levels` ADD COLUMN `iteration_id` text REFERENCES `iterations`(`id`) ON DELETE SET NULL;

DROP INDEX IF EXISTS `levels_week_idx`;
CREATE UNIQUE INDEX IF NOT EXISTS `levels_iteration_week_idx` ON `levels` (`iteration_id`, `week`);

ALTER TABLE `team_progress` ADD COLUMN `total_points` integer NOT NULL DEFAULT 0;
ALTER TABLE `team_progress` ADD COLUMN `completed_weeks` text NOT NULL DEFAULT '[]';
ALTER TABLE `team_progress` ADD COLUMN `weekly_stats` text NOT NULL DEFAULT '[]';

CREATE TABLE IF NOT EXISTS `user_week_progress` (
  `id` text PRIMARY KEY NOT NULL,
  `user_id` text NOT NULL,
  `iteration_id` text NOT NULL,
  `week` integer NOT NULL,
  `completed_tasks` text NOT NULL DEFAULT '[]',
  `points_earned` integer NOT NULL DEFAULT 0,
  `is_completed` integer NOT NULL DEFAULT 0,
  `finished_at` integer,
  `key_id` text,
  `title` text,
  FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`iteration_id`) REFERENCES `iterations`(`id`) ON DELETE CASCADE
);

CREATE UNIQUE INDEX IF NOT EXISTS `user_week_iteration_idx` ON `user_week_progress` (`user_id`, `iteration_id`, `week`);
'
    at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:271:10)
    at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
    ... 4 lines matching cause stack trace ...
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5) {
  cause: RangeError: The supplied SQL string contains more than one statement
      at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
      at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
      at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
      at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:269:16)
      at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
      at migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/migrator.ts:10:13)
      at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/db/client.ts:43:9)
      at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
      at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
      at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
}
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:40:27 PM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:14 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:16 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:40 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:58 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:58:20 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:59:08 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
11:20:03 AM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
3:59:45 PM [tsx] change in ./src/db/schema.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:02:56 PM [tsx] change in ./src/routes/index.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:07:19 PM [tsx] change in ./src/routes/index.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
[0mGET /me [36m304[0m 2.510 ms - -[0m
[0mGET /features [36m304[0m 0.463 ms - -[0m
[0mGET /secret-santa [31m500[0m 3.474 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /secret-santa [31m500[0m 1.286 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mPOST /auth/login [32m200[0m 4.331 ms - 128[0m
[0mGET /me [36m304[0m 0.719 ms - -[0m
[0mGET /features [36m304[0m 0.315 ms - -[0m
[0mGET /levels/current [36m304[0m 1.439 ms - -[0m
[0mGET /levels/current [36m304[0m 0.812 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.566 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.406 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.515 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.262 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.676 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.424 ms - -[0m
[0mGET /levels/week/1 [36m304[0m 1.327 ms - -[0m
[0mGET /levels/week/1 [36m304[0m 0.734 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.485 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.467 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.365 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.353 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.376 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.499 ms - -[0m
[0mGET /secret-santa [31m500[0m 1.513 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /secret-santa [31m500[0m 0.843 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /me [36m304[0m 0.416 ms - -[0m
[0mGET /features [36m304[0m 0.372 ms - -[0m
[0mGET /secret-santa [31m500[0m 0.627 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /secret-santa [31m500[0m 0.824 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /me [33m401[0m 0.359 ms - 66[0m
[0mGET /features [36m304[0m 0.166 ms - -[0m
[0mPOST /auth/login [32m200[0m 2.576 ms - 128[0m
[0mGET /me [36m304[0m 0.666 ms - -[0m
[0mGET /features [36m304[0m 0.406 ms - -[0m
[0mGET /levels/current [36m304[0m 1.820 ms - -[0m
[0mGET /levels/current [36m304[0m 1.023 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.364 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.270 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.286 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.312 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.514 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.501 ms - -[0m
[0mGET /levels/week/1 [36m304[0m 0.573 ms - -[0m
[0mGET /levels/week/1 [36m304[0m 1.056 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.470 ms - -[0m
[0mGET /levels/lvl3/tasks [36m304[0m 0.446 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.241 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.157 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.284 ms - -[0m
[0mGET /tasks/submissions?taskIds=taskA,taskB [36m304[0m 0.299 ms - -[0m
[0mGET /levels/current [36m304[0m 2.212 ms - -[0m
[0mGET /secret-santa [31m500[0m 0.775 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /secret-santa [31m500[0m 1.089 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
9:45:16 AM [tsx] change in ./src/routes/tickets.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:20 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:40 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:46:00 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:47:18 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:50:23 AM [tsx] change in ./src/routes/tickets.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:52 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:56 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:00 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:15 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:17 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:20 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:24 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:26 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:45 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:53:37 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:198:10: ERROR: The symbol "iteration" has already been declared
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:38 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:57 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:02 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:10 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:54:22 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:25 AM [tsx] change in ./src/utils/get-request-user.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:27 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:34 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:44 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:48 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:57 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:02:46 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:03:31 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   9:26:36 PM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:40:27 PM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:14 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:16 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:40 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:58 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:58:20 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:59:08 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
11:20:03 AM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
3:59:45 PM [tsx] change in ./src/db/schema.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
4:02:56 PM [tsx] change in ./src/routes/index.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:07:19 PM [tsx] change in ./src/routes/index.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:16 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:20 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:40 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:46:00 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:47:18 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:23 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:52 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:56 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:00 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:15 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:51:17 AM [tsx] change in ./src/routes/secret-santa.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:20 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:24 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:26 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:45 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:53:37 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:198:10: ERROR: The symbol "iteration" has already been declared
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:38 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:57 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:02 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:10 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:54:22 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:25 AM [tsx] change in ./src/utils/get-request-user.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:27 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:34 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:44 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:48 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:57 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:02:46 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:03:31 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   [0mGET /health [32m200[0m 1.200 ms - 15[0m
[0mGET /health [32m200[0m 0.157 ms - 15[0m
[0mGET /features [32m200[0m 2.072 ms - 47[0m
[0mPOST /uploads [33m401[0m 0.428 ms - 66[0m
[0mPOST /auth/login [32m200[0m 4.557 ms - 128[0m
[0mGET /me [36m304[0m 0.849 ms - -[0m
[0mGET /features [36m304[0m 0.215 ms - -[0m
[0mGET /teams/t1 [36m304[0m 1.323 ms - -[0m
[0mGET /teams/t1/chat [36m304[0m 0.849 ms - -[0m
[0mGET /teams/t1 [36m304[0m 0.407 ms - -[0m
[0mGET /teams/t1/ideas [36m304[0m 1.128 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 1.351 ms - -[0m
[0mGET /levels/current [36m304[0m 1.096 ms - -[0m
[0mGET /teams/t1/ideas [36m304[0m 0.703 ms - -[0m
[0mGET /teams/t1/chat [36m304[0m 0.585 ms - -[0m
[0mGET /levels/current [36m304[0m 0.812 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.330 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.395 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.371 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.261 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.281 ms 9:26:36 PM [tsx] change in ./src/db/client.ts Rerunning...
cMigration error (may be safe to ignore if migrations are already applied): DrizzleError: Failed to run the query 'CREATE TABLE IF NOT EXISTS `iterations` (
  `id` text PRIMARY KEY NOT NULL,
  `name` text NOT NULL,
  `starts_at` integer NOT NULL,
  `ends_at` integer NOT NULL,
  `total_weeks` integer NOT NULL DEFAULT 6,
  `current_week` integer NOT NULL DEFAULT 1
);

ALTER TABLE `levels` ADD COLUMN `iteration_id` text REFERENCES `iterations`(`id`) ON DELETE SET NULL;

DROP INDEX IF EXISTS `levels_week_idx`;
CREATE UNIQUE INDEX IF NOT EXISTS `levels_iteration_week_idx` ON `levels` (`iteration_id`, `week`);

ALTER TABLE `team_progress` ADD COLUMN `total_points` integer NOT NULL DEFAULT 0;
ALTER TABLE `team_progress` ADD COLUMN `completed_weeks` text NOT NULL DEFAULT '[]';
ALTER TABLE `team_progress` ADD COLUMN `weekly_stats` text NOT NULL DEFAULT '[]';

CREATE TABLE IF NOT EXISTS `user_week_progress` (
  `id` text PRIMARY KEY NOT NULL,
  `user_id` text NOT NULL,
  `iteration_id` text NOT NULL,
  `week` integer NOT NULL,
  `completed_tasks` text NOT NULL DEFAULT '[]',
  `points_earned` integer NOT NULL DEFAULT 0,
  `is_completed` integer NOT NULL DEFAULT 0,
  `finished_at` integer,
  `key_id` text,
  `title` text,
  FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`iteration_id`) REFERENCES `iterations`(`id`) ON DELETE CASCADE
);

CREATE UNIQUE INDEX IF NOT EXISTS `user_week_iteration_idx` ON `user_week_progress` (`user_id`, `iteration_id`, `week`);
'
    at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:271:10)
    at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
    ... 4 lines matching cause stack trace ...
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5) {
  cause: RangeError: The supplied SQL string contains more than one statement
      at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
      at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
      at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
      at BetterSQLiteSession.run (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:269:16)
      at SQLiteSyncDialect.migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/dialect.ts:849:15)
      at migrate (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/migrator.ts:10:13)
      at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/db/client.ts:43:9)
      at ModuleJob.run (node:internal/modules/esm/module_job:271:25)
      at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:578:26)
      at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:116:5)
}
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_qu[0mGET /admin/levels [36m304[0m 1.855 ms - -[0m
[0mGET /admin/metrics [36m304[0m 1.058 ms - -[0m
[0mGET /admin/iterations [36m304[0m 3.987 ms - -[0m
[0mGET /admin/levels [36m304[0m 0.280 ms - -[0m
[0mGET /admin/metrics [36m304[0m 0.449 ms - -[0m
[0mGET /admin/iterations9:40:27 PM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:14 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:16 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:40 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:58 PM [tsx] change in ./src/routes/levels.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:58:20 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:59:08 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
11:20:03 AM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
3:59:45 PM [tsx] change in ./src/db/schema.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:02:56 PM [tsx] change in ./src/routes/index.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:07:19 PM [tsx] change in ./src/routes/index.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:16 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:20 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:40 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:46:00 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:47:18 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:23 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:52 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:56 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:00 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:15 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:17 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:20 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:24 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:51:26 AM [tsx] change in ./src/routes/teams.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:45 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:53:37 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:198:10: ERROR: The symbol "iteration" has already been declared
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:38 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:57 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:02 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:10 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:54:22 AM [tsx] change in ./src/services/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:25 AM [tsx] change in ./src/utils/get-request-user.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:27 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:34 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:44 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
10:01:48 AM [tsx] change in ./src/services/analytics.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:57 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:02:46 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:03:31 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
[32m200[0m 1.043 ms - 1941903[0m
[0mGET /uploads/tasks/ChatGPT%20Image%2010%20%C3%90%C2%BD%C3%90%C2%BE%C3%91%C2%8F%C3%90%C2%B1.%202025%20%C3%90%C2%B3.,%2017_08_56-1762972061646-244709307.png [32m200[0m 0.935 ms - 1941903[0m
[0mGET /levels/current [36m304[0m 1.884 ms - -[0m
[0mGET /levels/current [36m304[0m 0.612 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.736 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.412 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.758 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.310 ms - -[0m
[0mGET /tasks/submissions?taskIds=27cf65a9-bf22-4447-b7f9-7905c1274412,08f3aea0-2bea-489b-9fb5-ea28168d1853 [36m304[0m 0.627 ms - -[0m
[0mGET /tasks/submissions?taskIds=27cf65a9-bf22-4447-b7f9-7905c1274412,08f3aea0-2bea-489b-9fb5-ea28168d1853 [36m304[0m 0.582 ms - -[0m
[0mGET /levels/week/2 [36m304[0m 0.871 ms - -[0m
[0mGET /levels/week/2 [36m304[0m 0.497 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.209 ms - -[0m
[0mGET /levels/10d47e33-c1d0-4768-8395-4738e0b7621d/tasks [36m304[0m 0.212 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.264 ms - -[0m
[0mGET /teams/t1/progress [36m304[0m 0.145 ms - -[0m
[0mGET /tasks/submissions?taskIds=27cf65a9-bf22-4447-b7f9-7905c1274412,08f3aea0-2bea-489b-9fb5-ea28168d1853 [36m304[0m 0.301 ms - -[0m
[0mGET /tasks/submissions?taskIds=27cf65a9-bf22-4447-b7f9-7905c1274412,08f3aea0-2bea-489b-9fb5-ea28168d1853 [36m304[0m 0.271 ms - -[0m
[0mGET /levels/current [36m304[0m 2.601 ms - -[0m
[0mGET /levels/current [36m304[0m 1.471 ms - -[0m
[0mGET /levels/current [36m304[0m 1.711 ms - -[0m
[0mGET /levels/current [36m304[0m 0.892 ms - -[0m
[0mGET /levels/current [36m304[0m 1.261 ms - -[0m
[0mGET /levels/current [36m304[0m 2.099 ms - -[0m
[0mGET /levels/current [36m304[0m 1.840 ms - -[0m
[0mGET /levels/current [36m304[0m 1.846 ms - -[0m
[0mGET /levels/current [36m304[0m 2.081 ms - -[0m
[0mGET /levels/current [36m304[0m 1.842 ms - -[0m
9:58:20 PM [tsx] change in ./src/routes/admin.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:59:08 PM [tsx] change in ./src/routes/admin.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
11:20:03 AM [tsx] change in ./src/db/client.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
3:59:45 PM [tsx] change in ./src/db/schema.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
4:02:56 PM [tsx] change in ./src/routes/index.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
[0mGET /me [36m304[0m 2.122 ms - -[0m
[0mGET /features [36m304[0m 0.452 ms - -[0m
[0mGET /secret-santa [31m500[0m 4.225 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /me [36m304[0m 0.408 ms - -[0m
[0mGET /features [36m304[0m 0.845 ms - -[0m
[0mGET /secret-santa [31m500[0m 1.369 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
[0mGET /secret-santa [31m500[0m 1.047 ms - 1819[0m
SqliteError: no such table: secret_santa_participants
    at Database.prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/better-sqlite3@11.10.0/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/better-sqlite3/session.ts:60:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/session.ts:250:15)
    at SQLiteSelectBase._prepare (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:916:85)
    at SQLiteSelectBase.all (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/drizzle-orm@0.44.7_better-sqlite3@11.10.0/node_modules/src/sqlite-core/query-builders/select.ts:950:15)
    at fetchParticipantRows (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:79:6)
    at getSecretSantaState (/Users/dmitrii.malakhov/git/evm/api/src/services/secret-santa.ts:88:16)
    at <anonymous> (/Users/dmitrii.malakhov/git/evm/api/src/routes/secret-santa.ts:55:24)
    at Layer.handle [as handle_request] (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/express@4.21.2/node_modules/express/lib/router/route.js:149:13)
4:07:19 PM [tsx] change in ./src/routes/index.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:45:16 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:45:20 AM [tsx] change in ./src/routes/tickets.ts Restarting...
cAPI server listening on http://0.0.0.0:4000
9:45:40 AM [tsx] change in ./src/services/ticket-pdf.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:46:00 AM [tsx] change in ./src/services/ticket-pdf.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:47:18 AM [tsx] change in ./src/services/ticket-pdf.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:23 AM [tsx] change in ./src/routes/tickets.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:52 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:50:56 AM [tsx] change in ./src/routes/tasks.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:00 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:51:15 AM [tsx] change in ./src/routes/secret-santa.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:17 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:51:20 AM [tsx] change in ./src/routes/secret-santa.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:24 AM [tsx] change in ./src/routes/secret-santa.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:26 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:51:45 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
9:53:37 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:198:10: ERROR: The symbol "iteration" has already been declared
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:38 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:53:57 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:02 AM [tsx] change in ./src/services/admin.ts Rerunning...
c
node:internal/modules/run_main:122
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/Users/dmitrii.malakhov/git/evm/api/src/services/admin.ts:251:0: ERROR: Unexpected "}"
    at failureErrorWithLog (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/dmitrii.malakhov/git/evm/api/node_modules/.pnpm/esbuild@0.25.12/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.14.0
9:54:10 AM [tsx] change in ./src/services/admin.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
9:54:22 AM [tsx] change in ./src/services/admin.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:25 AM [tsx] change in ./src/utils/get-request-user.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:27 AM [tsx] change in ./src/services/secret-santa.ts Rerunning...
cAPI server listening on http://0.0.0.0:4000
10:01:34 AM [tsx] change in ./src/services/secret-santa.ts Restarting...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:44 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:48 AM [tsx] change in ./src/services/analytics.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:01:57 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:02:46 AM [tsx] change in ./src/routes/teams.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
10:03:31 AM [tsx] change in ./src/services/auth.ts Rerunning...
cnode:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:4000
    at Server.setupListenHandle [as _listen2] (node:net:1937:16)
    at listenInCluster (node:net:1994:12)
    at node:net:2203:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1973:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -48,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 4000
}

Node.js v22.14.0
